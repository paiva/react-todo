<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>React-ToDos</title>
    <script src="http://fb.me/react-0.8.0.js"></script>
    <script src="http://fb.me/JSXTransformer-0.8.0.js"></script>
  </head>
  <body>
    <div id="content"></div>
    <script type="text/jsx">

    /*** @jsx React.DOM */
    
      var ToDoApp = React.createClass({
          getInitialState: function(){
            return {data=[], description='', hashtag:''}
          }, 
          onChangeItem: function(e){
            this.setState({description:e.target.value})
          },
          onChangeHashtag: function(e){
            this.setState({hashtag:e.target.value})
          },
          handleSubmit: function(e){
            e.preventDefaul();
            this.state.data.push({description:this.data.description, hashtag: this.data.hashtag});
            this.setState({description:'', hashtag:''})
          },
          render: function(){
              return (
                      <div>
                        <h1>Things todo today:</h1>
                        <form onSubmit={this.handleSubmit}>
                        <input type='text' value={this.state.description} onChange={this.onChangeItem} />
                        <input type='text' value={this.state.hashtag} onChange={this.onChangeHashtag} />
                        <button>Add</button>
                        </form>
                        <ItemList data={this.state.data}/>
                      </div>
                     )
        }
      });

      var List = React.createClass({
        render: function(){
            return (
                    <div>
                      <h3>{this.props.description}, {this.props.hashtag}</h3>
                    </div>
                    )
        }
      })

      var ItemList = React.createClass({
        render: function(){

            var items = this.props.data.map(function(item){
            return <List description={item.description} hashtag={item.hashtag} />
            });
            return (
                    <div>
                    {items}
                    </div> 
                    )
        }

      })


      React.renderComponent(<ToDoApp />,document.getElementById("content"))

    </script>
  </body>
</html>
